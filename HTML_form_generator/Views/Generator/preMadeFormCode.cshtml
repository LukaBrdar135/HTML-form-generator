@model HTML_form_generator.Models.PreMadeForm
@{
    ViewBag.Title = "Pre-made form";
}

<h2>Pre-made form: @Model.Name</h2>
<p>
    Bootstrap: @if (Model.withBootstrap)
    {
        <span class="glyphicon glyphicon-ok"></span>
    }
    else
    {
        <span class="glyphicon glyphicon-remove"></span>
    }
</p>
<hr />
<button id="button" class="btn btn-primary" style="float:right; margin-left:-100px">Copy code</button>
<pre id="myInput" class="language-html"><code id="code">@Model.Code</code></pre>

<style>
    textarea {
        position: absolute;
        left: -100%;
    }
</style>

<script>
    function copyFunction() {
        const copyText = document.getElementById("myInput").textContent;
        const textArea = document.createElement('textarea');
        textArea.textContent = copyText;
        document.body.append(textArea);
        textArea.select();
        document.execCommand("copy");
    }

    document.getElementById('button').addEventListener('click', copyFunction);
</script>
<div>
    <h3>Preview</h3>
    <hr />
    @Html.Raw(Model.Code)
</div>

